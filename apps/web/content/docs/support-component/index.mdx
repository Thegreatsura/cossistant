---
title: Basic usage
description: Basic usage of the Support component.
---

## Philosophy

The `<Support />` component is built on **progressive disclosure**. Start with zero config, then customize as you grow.

## How it Works

- **Zero Config**: Works out of the box with sensible defaults
- **Progressive Enhancement**: Start simple, customize as needed
- **Compound Components**: Radix-style API for full control when needed
- **Real-time Chat**: Built-in WebSocket support for live conversations
- **Headless Architecture**: Full control through primitive components when needed

## Quick Start

Drop `<Support />` anywhere in your app:

```tsx
import { Support } from "@cossistant/next";

export default function App() {
  return (
    <div>
      <Support />
      {/* Your app */}
    </div>
  );
}
```

That's it. You get a fully functional support widget.

## Customizing Messages & Quick Options

Use `<SupportConfig />` to customize messages and quick options per page:

```tsx title="app/pricing/page.tsx"
import { SupportConfig } from "@cossistant/next";

export default function PricingPage() {
  return (
    <>
      <SupportConfig
        quickOptions={[
          "How does billing work?",
          "What's included in Pro?",
          "Can I cancel anytime?",
        ]}
      />
      <h1>Choose your plan</h1>
    </>
  );
}
```

<TypeTable
  type={{
    defaultMessages: {
      description: "Custom welcome messages shown before a conversation starts",
      type: "DefaultMessage[]",
      typeDescriptionLink: "#defaultmessage",
      required: false,
    },
    quickOptions: {
      description: "Array of quick reply options displayed to users",
      type: "string[]",
      required: false,
    },
  }}
/>

## Identifying Visitors

By default, visitors are **anonymous**. Use `<IdentifySupportVisitor />` to connect them to your authenticated users:

```tsx title="app/dashboard/layout.tsx"
import { IdentifySupportVisitor } from "@cossistant/next";
import { auth } from "@/lib/auth";
import { headers } from "next/headers";

export default async function DashboardLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  const session = await auth.api.getSession({
    headers: await headers(),
  });

  return (
    <div>
      {session?.user && (
        <IdentifySupportVisitor
          externalId={session.user.id}
          email={session.user.email}
          name={session.user.name}
          image={session.user.image}
          metadata={{
            plan: session.user.plan,
            signupDate: session.user.createdAt,
          }}
        />
      )}
      {children}
    </div>
  );
}
```

<Alert variant="info" className="mt-6">
  <Icon name="help" className="size-4" />
  <AlertTitle>What happens when I identify a visitor?</AlertTitle>
  <AlertDescription>
    The anonymous visitor becomes associated with a contact. All their
    conversations, metadata, and future interactions are linked to this
    contact—even across different devices. Learn more about{" "}
    <Link href="/docs/concepts/visitors">visitors</Link> and{" "}
    <Link href="/docs/concepts/contacts">contacts</Link>.
  </AlertDescription>
</Alert>

### Props

<TypeTable
  type={{
    externalId: {
      description: "Your internal user ID to uniquely identify this visitor",
      type: "string",
      required: false,
    },
    email: {
      description: "User's email address (required if externalId not provided)",
      type: "string",
      required: false,
    },
    name: {
      description: "User's display name shown in conversations",
      type: "string | null",
      required: false,
    },
    image: {
      description: "URL to user's avatar image",
      type: "string | null",
      required: false,
    },
    metadata: {
      description:
        "Additional context about the user (plan, company, MRR, etc.)",
      type: "VisitorMetadata | null",
      typeDescription: "Record<string, string | number | boolean | null>",
      typeDescriptionLink: "#visitormetadata",
      required: false,
    },
  }}
/>

## Support Component Props

<TypeTable
  type={{
    className: {
      description: "Additional CSS classes for the root wrapper",
      type: "string",
      required: false,
    },
    side: {
      description: "Which side of the trigger to place the content",
      type: '"top" | "bottom" | "left" | "right"',
      default: '"top"',
      required: false,
    },
    align: {
      description: "Alignment along the side axis",
      type: '"start" | "center" | "end"',
      default: '"end"',
      required: false,
    },
    sideOffset: {
      description: "Distance (in pixels) between the trigger and content",
      type: "number",
      default: "16",
      required: false,
    },
    classNames: {
      description: "Granular className overrides for specific parts",
      type: "object",
      typeDescription: "{ trigger?: string, content?: string }",
      required: false,
    },
    theme: {
      description: "Force a specific theme. Omit for automatic detection",
      type: '"light" | "dark"',
      required: false,
    },
    defaultOpen: {
      description: "Whether the widget should open automatically on mount",
      type: "boolean",
      default: "false",
      required: false,
    },
    quickOptions: {
      description: "Quick reply options for this widget instance",
      type: "string[]",
      required: false,
    },
    defaultMessages: {
      description: "Welcome messages shown before conversation starts",
      type: "DefaultMessage[]",
      typeDescriptionLink: "#defaultmessage",
      required: false,
    },
    locale: {
      description: "Locale string for widget translations",
      type: "string",
      required: false,
    },
    content: {
      description: "Custom text content overrides for internationalization",
      type: "Partial<SupportTextContent>",
      required: false,
    },
    customPages: {
      description: "Custom pages to add to the router",
      type: "CustomPage[]",
      required: false,
    },
    children: {
      description: "Composition children (Support.Trigger, Support.Content, Support.Page)",
      type: "React.ReactNode",
      required: false,
    },
  }}
/>

### Usage Examples

Basic styling:

```tsx
<Support
  theme="dark"
  classNames={{
    trigger: "bg-purple-600 hover:bg-purple-700",
    content: "border-purple-200 shadow-2xl",
  }}
/>
```

With positioning:

```tsx
<Support side="bottom" align="end" sideOffset={8} />
```

With custom page:

```tsx
import { Support, useSupportNavigation } from "@cossistant/next";

const HelpPage = () => {
  const { goBack } = useSupportNavigation();
  return (
    <div className="p-4">
      <button onClick={goBack} type="button">← Back</button>
      <h1>Help Center</h1>
    </div>
  );
};

export default function App() {
  return (
    <Support>
      <Support.Page name="HELP" component={HelpPage} />
    </Support>
  );
}
```

For advanced customization, see the [Customization](/docs/support-component/customization) guide.

## Types

### DefaultMessage

Structure for pre-conversation welcome messages.

<TypeTable
  variant="property"
  type={{
    content: {
      description: "The message text content",
      type: "string",
      required: true,
    },
    senderType: {
      description: "Who is sending the message",
      type: "SenderType",
      typeDescription: '"visitor" | "team_member" | "ai"',
      typeDescriptionLink: "#sendertype",
      required: true,
    },
    senderId: {
      description: "Optional ID of the specific sender",
      type: "string",
      required: false,
    },
  }}
/>

### VisitorMetadata

Key-value pairs for storing custom data about contacts.

<TypeTable
  variant="property"
  type={{
    "[key: string]": {
      description:
        "Any string key can map to a string, number, boolean, or null value.",
      type: "string | number | boolean | null",
      required: false,
    },
  }}
/>

**Type Definition:** `Record<string, string | number | boolean | null>`

### SenderType

Enum defining who can send messages.

<TypeTable
  variant="property"
  type={{
    VISITOR: {
      description: "Message from an end user/visitor",
      type: '"visitor"',
      required: true,
    },
    TEAM_MEMBER: {
      description: "Message from a human support agent",
      type: '"team_member"',
      required: true,
    },
    AI: {
      description: "Message from an AI agent",
      type: '"ai"',
      required: true,
    },
  }}
/>

**Type Definition:** `"visitor" | "team_member" | "ai"`

### TriggerRenderProps

Props provided to custom trigger render functions.

<TypeTable
  variant="property"
  type={{
    isOpen: {
      description: "Whether the support window is currently open",
      type: "boolean",
      required: true,
    },
    isTyping: {
      description: "Whether an agent or AI is currently typing",
      type: "boolean",
      required: true,
    },
    unreadCount: {
      description: "Number of unread messages",
      type: "number",
      required: true,
    },
    toggle: {
      description: "Toggle the support window open/closed",
      type: "() => void",
      required: true,
    },
  }}
/>
